#ifndef __AD7606_H
#define __AD7606_H

/********************************************************************************************************************************
设置定时器8
参数:base_freq 被采样的正弦信号基波频率,单位Hz
参数:data_len  每个周波采样的长度,即采样点数
由于外部ADC最大采样率与高采样倍率有关
定时器8的CC1事件用于启动AD7606采样，TIM8_CH1(PC6)引脚的上升沿可以启动AD转换
********************************************************************************************************************************/
extern void TIM8_Configuration(float base_freq,unsigned int data_len);

/********************************************************************************************************************************
AD7606过采样设置程序
********************************************************************************************************************************/
extern void AD7606_OverSample_Rat(unsigned char rat);

/********************************************************************************************************************************
AD7606待机模式设置程序
********************************************************************************************************************************/
extern void AD7606_STBY_Mode(unsigned char mode);

/********************************************************************************************************************************
电压通道增益切换控制程序
参数: gear 增益档位，0、1、2
********************************************************************************************************************************/
extern void Voltage_Gain_Switch(unsigned char gear);

/********************************************************************************************************************************
电流通道增益切换控制程序
参数: gear 增益档位，0、1
********************************************************************************************************************************/
extern void Current_Gain_Switch(unsigned char gear);

/********************************************************************************************************************************
AD模拟量增益切换控制程序
参数: ctrl_en 切换控制允许标志，0:禁止切换，电压电流切换到最大输入量程;1:允许自动切换增益
********************************************************************************************************************************/
extern void AD_Analog_Gain_Switch (unsigned char ctrl_en);

/********************************************************************************************************************************
AD7606初始化程序
ADI官网最新文档说明AD7606上电初始化需要先关断AD7606再开启，同时给复位信号，这样可以保证AD正常工作
********************************************************************************************************************************/
extern void AD7606_Init(void);


#endif
